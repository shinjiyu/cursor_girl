# Cursor Agent Hooks - çŠ¶æ€æ–‡æ¡£

## ğŸ“Š é¡¹ç›®çŠ¶æ€

**ç‰ˆæœ¬**: 2.0.0  
**æœ€åæ›´æ–°**: 2025-11-22  
**çŠ¶æ€**: âœ… ç”Ÿäº§å°±ç»ª

## ğŸ¯ é¡¹ç›®å®šä½

**Cursor Agent Hooks** æ˜¯ä¸€ä¸ª**å…¨å±€å®‰è£…å·¥å…·**ï¼Œç”¨äºåœ¨ä»»ä½• Cursor é¡¹ç›®ä¸­ç›‘æ§å’Œæ§åˆ¶ AI Agent çš„è¡Œä¸ºï¼Œå¹¶ä¸ **Ortensia ä¸­å¤®æœåŠ¡å™¨** é›†æˆã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **å…¨å±€å®‰è£…** - ä¸€æ¬¡å®‰è£…ï¼Œæ‰€æœ‰é¡¹ç›®å¯ç”¨
- âœ… **Agent ç›‘æ§** - ç›‘æ§ AI Agent çš„æ‰€æœ‰æ“ä½œ
- âœ… **Ortensia é›†æˆ** - è‡ªåŠ¨å‘é€äº‹ä»¶åˆ°ä¸­å¤®æœåŠ¡å™¨
- âœ… **å®æ—¶åé¦ˆ** - è¯­éŸ³ã€è¡¨æƒ…ã€åŠ¨ä½œåé¦ˆ
- âœ… **å®‰å…¨å®¡è®¡** - å‘½ä»¤ã€æ–‡ä»¶ã€å·¥å…·è°ƒç”¨å®¡è®¡

## ğŸ“‹ æ”¯æŒçš„ Hooksï¼ˆ9ä¸ªï¼‰

| Hook | çŠ¶æ€ | ç±»å‹ | è§¦å‘æ—¶æœº |
|------|------|------|---------|
| `beforeShellExecution` | âœ… | æƒé™ | Agent æ‰§è¡Œå‘½ä»¤å‰ |
| `afterShellExecution` | âœ… | å®¡è®¡ | Agent æ‰§è¡Œå‘½ä»¤å |
| `beforeMCPExecution` | âœ… | æƒé™ | Agent è°ƒç”¨å·¥å…·å‰ |
| `afterMCPExecution` | âœ… | å®¡è®¡ | Agent è°ƒç”¨å·¥å…·å |
| `afterFileEdit` | âœ… | å®¡è®¡ | Agent ç¼–è¾‘æ–‡ä»¶å |
| `beforeReadFile` | âœ… | æƒé™ | Agent è¯»å–æ–‡ä»¶å‰ |
| `beforeSubmitPrompt` | âœ… | å®¡è®¡ | Agent æäº¤æç¤ºå‰ |
| `afterAgentResponse` | âœ… | å®¡è®¡ | Agent å“åº”å |
| `stop` | âœ… | æ§åˆ¶ | Agent ä»»åŠ¡å®Œæˆ |

## ğŸ”§ æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Python 3.7+
- **å¼‚æ­¥**: asyncio
- **WebSocket**: websockets åº“
- **åè®®**: Ortensia Protocol v1
- **å¹³å°**: macOS, Linux, Windows

## ğŸ“ é¡¹ç›®ç»“æ„

```
cursor-hooks/
â”œâ”€â”€ deploy.sh                   # âœ… éƒ¨ç½²è„šæœ¬ï¼ˆå…¨å±€å®‰è£…ï¼‰
â”œâ”€â”€ hooks/                      # âœ… Agent Hook è„šæœ¬
â”‚   â”œâ”€â”€ afterAgentResponse.py   # âœ… Agent å“åº”å
â”‚   â”œâ”€â”€ afterFileEdit.py        # âœ… æ–‡ä»¶ç¼–è¾‘å
â”‚   â”œâ”€â”€ afterMCPExecution.py    # âœ… å·¥å…·è°ƒç”¨å
â”‚   â”œâ”€â”€ afterShellExecution.py  # âœ… å‘½ä»¤æ‰§è¡Œå
â”‚   â”œâ”€â”€ beforeMCPExecution.py   # âœ… å·¥å…·è°ƒç”¨å‰
â”‚   â”œâ”€â”€ beforeReadFile.py       # âœ… æ–‡ä»¶è¯»å–å‰
â”‚   â”œâ”€â”€ beforeShellExecution.py # âœ… å‘½ä»¤æ‰§è¡Œå‰
â”‚   â”œâ”€â”€ beforeSubmitPrompt.py   # âœ… æç¤ºæäº¤å‰
â”‚   â””â”€â”€ stop.py                 # âœ… ä»»åŠ¡å®Œæˆ
â”œâ”€â”€ lib/                        # âœ… æ”¯æŒåº“
â”‚   â”œâ”€â”€ agent_hook_handler.py   # âœ… Hook å¤„ç†å™¨åŸºç±»
â”‚   â””â”€â”€ websocket_sender.sh     # âœ… WebSocket å‘é€å·¥å…·
â”œâ”€â”€ hooks.json                  # âœ… Cursor é…ç½®æ–‡ä»¶
â”œâ”€â”€ run_hook.sh                 # âœ… Hook åŒ…è£…è„šæœ¬
â”œâ”€â”€ requirements.txt            # âœ… Python ä¾èµ–
â”œâ”€â”€ README.md                   # âœ… å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ QUICKSTART.md               # âœ… å¿«é€Ÿå¼€å§‹
â”œâ”€â”€ INSTALL.md                  # âœ… è¯¦ç»†å®‰è£…
â””â”€â”€ STATUS.md                   # âœ… æœ¬æ–‡ä»¶
```

## âœ… å·²å®ŒæˆåŠŸèƒ½

### v2.0.0 (2025-11-22)

#### ğŸ¯ æ ¸å¿ƒé‡æ„
- âœ… ä»"é¡¹ç›®çº§ Hooks"é‡æ„ä¸º"å…¨å±€å®‰è£…å·¥å…·"
- âœ… ç§»é™¤ç¼–è¾‘å™¨ Hooksï¼ˆpost-save, on-build ç­‰ï¼‰
- âœ… ä¸“æ³¨äº Agent Hooksï¼ˆAI è¡Œä¸ºç›‘æ§ï¼‰
- âœ… ç»Ÿä¸€å®‰è£…åˆ° `~/.cursor-agent/`

#### ğŸ”§ éƒ¨ç½²ç³»ç»Ÿ
- âœ… æ–°çš„ `deploy.sh` è„šæœ¬ï¼ˆå…¨å±€å®‰è£…ï¼‰
- âœ… è‡ªåŠ¨è¦†ç›–æ£€æµ‹
- âœ… æƒé™è‡ªåŠ¨è®¾ç½®
- âœ… ç¬¦å·é“¾æ¥ç®¡ç†
- âœ… éƒ¨ç½²çŠ¶æ€æŠ¥å‘Š

#### ğŸ“š æ–‡æ¡£å®Œå–„
- âœ… å®Œæ•´çš„ README.md
- âœ… å¿«é€Ÿå¼€å§‹ QUICKSTART.md
- âœ… è¯¦ç»†å®‰è£… INSTALL.md
- âœ… çŠ¶æ€è·Ÿè¸ª STATUS.md

#### ğŸ”Œ Ortensia é›†æˆ
- âœ… WebSocket è¿æ¥åˆ°ä¸­å¤®æœåŠ¡å™¨
- âœ… Ortensia Protocol v1 æ”¯æŒ
- âœ… è‡ªåŠ¨äº‹ä»¶å‘é€
- âœ… æœåŠ¡å™¨åœ°å€å¯é…ç½®

### v1.x (å†å²ç‰ˆæœ¬)

- âœ… åŸºç¡€ Agent Hooks å®ç°
- âœ… ç¼–è¾‘å™¨ Hooks æ”¯æŒï¼ˆå·²ç§»é™¤ï¼‰
- âœ… é¡¹ç›®çº§éƒ¨ç½²ï¼ˆå·²æ”¹ä¸ºå…¨å±€ï¼‰
- âœ… WebSocket é€šä¿¡

## ğŸš€ ä½¿ç”¨ç»Ÿè®¡

### éƒ¨ç½²ç›®æ ‡
- **å…¨å±€ç›®å½•**: `~/.cursor-agent/`
- **é…ç½®æ–‡ä»¶**: `~/.cursor/hooks.json`
- **æ—¥å¿—æ–‡ä»¶**: `/tmp/cursor-agent-hooks.log`

### ç³»ç»Ÿè¦æ±‚
- **Cursor**: >= 0.42.0
- **Python**: >= 3.7
- **ä¾èµ–**: websockets

## ğŸ› å·²çŸ¥é—®é¢˜

### æ— ï¼ˆå½“å‰ç‰ˆæœ¬æ— å·²çŸ¥é—®é¢˜ï¼‰

## ğŸ“ å¾…åŠäº‹é¡¹

### ä¼˜å…ˆçº§ 1 - é«˜
- â³ æ·»åŠ æ›´å¤š Agent Hook ç±»å‹ï¼ˆæ ¹æ® Cursor æ›´æ–°ï¼‰
- â³ æ€§èƒ½ä¼˜åŒ–ï¼ˆå‡å°‘å»¶è¿Ÿï¼‰

### ä¼˜å…ˆçº§ 2 - ä¸­
- â³ æ·»åŠ é…ç½®æ–‡ä»¶éªŒè¯
- â³ æ·»åŠ  Hook æ€§èƒ½ç›‘æ§
- â³ æ”¯æŒ Hook è°ƒè¯•æ¨¡å¼

### ä¼˜å…ˆçº§ 3 - ä½
- â³ GUI é…ç½®å·¥å…·
- â³ Hook å¸‚åœº/æ’ä»¶ç³»ç»Ÿ
- â³ å¤šè¯­è¨€æ”¯æŒï¼ˆJavaScript, Rust ç­‰ï¼‰

## ğŸ“Š æµ‹è¯•çŠ¶æ€

| æµ‹è¯•ç±»å‹ | çŠ¶æ€ | è¯´æ˜ |
|---------|------|------|
| æ‰‹åŠ¨æµ‹è¯• | âœ… | æ‰€æœ‰ Hooks æ‰‹åŠ¨éªŒè¯é€šè¿‡ |
| é›†æˆæµ‹è¯• | âœ… | ä¸ Ortensia é›†æˆæµ‹è¯•é€šè¿‡ |
| éƒ¨ç½²æµ‹è¯• | â³ | å¾…åœ¨å…¶ä»–é¡¹ç›®éªŒè¯ |
| æ€§èƒ½æµ‹è¯• | â³ | å¾…è¿›è¡Œ |

## ğŸ”„ æ›´æ–°æ—¥å¿—

### [2.0.0] - 2025-11-22

#### é‡å¤§å˜æ›´
- **é‡æ„**: ä»é¡¹ç›®çº§ Hooks æ”¹ä¸ºå…¨å±€å®‰è£…å·¥å…·
- **ç®€åŒ–**: ç§»é™¤ç¼–è¾‘å™¨ Hooksï¼Œä¸“æ³¨ Agent Hooks
- **æ ‡å‡†åŒ–**: ç»Ÿä¸€éƒ¨ç½²åˆ° `~/.cursor-agent/`

#### æ–°å¢
- æ–°çš„å…¨å±€éƒ¨ç½²è„šæœ¬
- å®Œæ•´çš„æ–‡æ¡£ä½“ç³»
- æœåŠ¡å™¨åœ°å€å¯é…ç½®

#### ä¿®å¤
- ä¿®å¤ WebSocket æœåŠ¡å™¨åœ°å€ï¼ˆ8000 -> 8765ï¼‰
- ä¿®å¤æƒé™è®¾ç½®é—®é¢˜
- ä¿®å¤æ—¥å¿—è·¯å¾„é—®é¢˜

#### ç§»é™¤
- ç§»é™¤ç¼–è¾‘å™¨ Hooksï¼ˆpost-save, on-build ç­‰ï¼‰
- ç§»é™¤é¡¹ç›®çº§éƒ¨ç½²
- ç§»é™¤æ—§çš„ undeploy.sh è„šæœ¬

### [1.x] - å†å²ç‰ˆæœ¬
- åˆå§‹å®ç°
- ç¼–è¾‘å™¨ Hooks æ”¯æŒ
- é¡¹ç›®çº§éƒ¨ç½²

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æµç¨‹ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ†æ”¯ (`git push origin feature/amazing`)
5. åˆ›å»º Pull Request

## ğŸ“§ è”ç³»æ–¹å¼

- **Issue**: åœ¨ GitHub é¡¹ç›®ä¸­æäº¤
- **è®¨è®º**: åœ¨ GitHub Discussions ä¸­è®¨è®º

## ğŸ“„ è®¸å¯è¯

MIT License

---

**æœ€åæ›´æ–°**: 2025-11-22  
**ç»´æŠ¤è€…**: Cursor Girl Team  
**çŠ¶æ€**: âœ… æ´»è·ƒç»´æŠ¤ä¸­
