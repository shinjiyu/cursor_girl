# VRM åŠ¨ç”»å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5 åˆ†é’Ÿå¿«é€Ÿæ·»åŠ åŠ¨ç”»

### ç›®æ ‡
åœ¨ä½ çš„ AITuber ä¸­æ·»åŠ "æŒ¥æ‰‹"åŠ¨ç”»ï¼Œä» Cursor Hook è§¦å‘ã€‚

---

## ğŸ“‹ å‡†å¤‡å·¥ä½œ

- [ ] ç”µè„‘å¯ä»¥ä¸Šç½‘
- [ ] æµè§ˆå™¨ï¼ˆChrome/Firefox/Safariï¼‰
- [ ] çº¦ 10 åˆ†é’Ÿæ—¶é—´

---

## ğŸ¯ æ­¥éª¤ 1ï¼šä¸‹è½½åŠ¨ç”»ï¼ˆ3åˆ†é’Ÿï¼‰

### 1.1 è®¿é—® Mixamo

æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttps://www.mixamo.com/

![Mixamo é¦–é¡µ](https://www.mixamo.com/assets/images/social.jpg)

> ğŸ’¡ **æç¤º**ï¼šé¦–æ¬¡è®¿é—®å¯èƒ½éœ€è¦æ³¨å†Œ Adobe è´¦å·ï¼ˆå…è´¹ï¼‰ï¼Œç”¨é‚®ç®±æ³¨å†Œå³å¯ã€‚

### 1.2 æœç´¢åŠ¨ç”»

åœ¨æœç´¢æ¡†è¾“å…¥ï¼š`Waving`

ä½ ä¼šçœ‹åˆ°å¤šä¸ªæŒ¥æ‰‹åŠ¨ç”»ï¼Œé€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ï¼ˆæ¨è "Waving"ï¼‰ã€‚

### 1.3 ä¸‹è½½è®¾ç½®

ç‚¹å‡»å³ä¸Šè§’çš„ **"Download"** æŒ‰é’®ï¼Œè®¾ç½®å¦‚ä¸‹ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Format: FBX for Unity       â”‚  â† é€‰æ‹©è¿™ä¸ª
â”‚ Skin: Without Skin          â”‚  â† ä¸è¦çš®è‚¤
â”‚ Frames per second: 30       â”‚  â† 30 FPS
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ç‚¹å‡» **"Download"** å¼€å§‹ä¸‹è½½ã€‚

> ğŸ“¥ æ–‡ä»¶ä¼šä¿å­˜åˆ°ä½ çš„ Downloads ç›®å½•ï¼Œåç§°ç±»ä¼¼ï¼š`Waving.fbx`

---

## ğŸ”§ æ­¥éª¤ 2ï¼šè½¬æ¢ä¸º VRMA æ ¼å¼ï¼ˆ2åˆ†é’Ÿï¼‰

### 2.1 è®¿é—®è½¬æ¢å·¥å…·

æ‰“å¼€æ–°æ ‡ç­¾é¡µï¼Œè®¿é—®ï¼šhttps://3dretarget.com/zh

### 2.2 é€‰æ‹©è½¬æ¢åŠŸèƒ½

ç‚¹å‡» **"Mixamo FBX è½¬ VRMA"** æŒ‰é’®ã€‚

### 2.3 ä¸Šä¼ æ–‡ä»¶

1. ç‚¹å‡» **"é€‰æ‹©æ–‡ä»¶"** æˆ–æ‹–æ‹½åˆšä¸‹è½½çš„ `Waving.fbx`
2. ç­‰å¾…ä¸Šä¼ ï¼ˆçº¦ 5-10 ç§’ï¼‰
3. ç³»ç»Ÿè‡ªåŠ¨è½¬æ¢ï¼ˆçº¦ 10-20 ç§’ï¼‰
4. ä¸‹è½½ç”Ÿæˆçš„ `.vrma` æ–‡ä»¶

> ğŸ’¾ **é‡å‘½åæ–‡ä»¶**ï¼šå°†ä¸‹è½½çš„æ–‡ä»¶é‡å‘½åä¸º `wave.vrma`ï¼ˆæ–¹ä¾¿è¯†åˆ«ï¼‰

---

## ğŸ“ æ­¥éª¤ 3ï¼šæ”¾å…¥é¡¹ç›®ï¼ˆ1åˆ†é’Ÿï¼‰

### 3.1 ç§»åŠ¨æ–‡ä»¶

å°† `wave.vrma` æ–‡ä»¶ç§»åŠ¨åˆ°ï¼š

```
/Users/user/Documents/ cursorgirl/aituber-kit/public/animations/wave.vrma
```

ä½¿ç”¨ Finder æ“ä½œï¼š
1. æ‰“å¼€ Finder
2. å‰å¾€ä¸‹è½½ç›®å½•
3. æ‰¾åˆ° `wave.vrma`
4. æ‹–åˆ°é¡¹ç›®çš„ `aituber-kit/public/animations/` ç›®å½•

æˆ–ä½¿ç”¨å‘½ä»¤è¡Œï¼š

```bash
mv ~/Downloads/wave.vrma "/Users/user/Documents/ cursorgirl/aituber-kit/public/animations/"
```

---

## âš™ï¸ æ­¥éª¤ 4ï¼šé…ç½®ä»£ç ï¼ˆ2åˆ†é’Ÿï¼‰

### 4.1 ç¼–è¾‘åŠ¨ç”»æ§åˆ¶å™¨

æ‰“å¼€æ–‡ä»¶ï¼š`aituber-kit/src/features/emoteController/animationController.ts`

æ‰¾åˆ° `preloadAnimations()` æ–¹æ³•ï¼ˆçº¦ç¬¬ 61 è¡Œï¼‰ï¼š

```typescript
async preloadAnimations() {
  console.log('ğŸ¬ [AnimationController] Preloading animations...')
  
  const animations = [
    { name: 'idle', url: '/idle_loop.vrma' },
    // ğŸ†• æ·»åŠ è¿™ä¸€è¡Œ
    { name: 'wave', url: '/animations/wave.vrma' },
  ]
  
  // ... å…¶ä½™ä»£ç ä¸å˜
}
```

### 4.2 æ·»åŠ æƒ…ç»ªæ˜ å°„

åœ¨åŒä¸€æ–‡ä»¶ä¸­ï¼Œæ‰¾åˆ° `emotionAnimations` å¯¹è±¡ï¼ˆçº¦ç¬¬ 17 è¡Œï¼‰ï¼š

```typescript
private emotionAnimations: Record<string, string> = {
  neutral: 'idle',
  happy: 'joy',
  sad: 'sad',
  angry: 'angry',
  relaxed: 'relax',
  surprised: 'surprise',
  // ğŸ†• æ·»åŠ è¿™ä¸€è¡Œ
  wave: 'wave',
}
```

### 4.3 ä¿å­˜æ–‡ä»¶

æŒ‰ `Cmd + S`ï¼ˆMacï¼‰æˆ– `Ctrl + S`ï¼ˆWindowsï¼‰ä¿å­˜ã€‚

---

## ğŸ§ª æ­¥éª¤ 5ï¼šæµ‹è¯•åŠ¨ç”»ï¼ˆ2åˆ†é’Ÿï¼‰

### 5.1 é‡å¯ AITuber

å¦‚æœ AITuber æ­£åœ¨è¿è¡Œï¼Œé‡å¯å®ƒï¼š

```bash
cd "/Users/user/Documents/ cursorgirl/aituber-kit"
npm run dev
```

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼šhttp://localhost:3000

### 5.2 ä» Cursor è§¦å‘

åœ¨ Cursor Hook ä¸­è§¦å‘åŠ¨ç”»ï¼š

```python
from bridge.websocket_client import OrtensiaClient

client = OrtensiaClient()
client.send_aituber_text(
    text="ä½ å¥½ï¼",
    emotion="wave",  # ğŸ¯ è§¦å‘æŒ¥æ‰‹åŠ¨ç”»
    conversation_id="your_conv_id"
)
```

### 5.3 è§‚å¯Ÿæ•ˆæœ

ä½ åº”è¯¥çœ‹åˆ° AITuber è§’è‰²æŒ¥æ‰‹ï¼ğŸ‰

---

## âœ… éªŒè¯æ¸…å•

å®Œæˆåæ£€æŸ¥ï¼š

- [ ] åŠ¨ç”»æ–‡ä»¶å­˜åœ¨äº `public/animations/wave.vrma`
- [ ] `animationController.ts` ä¸­æ·»åŠ äº† wave é…ç½®
- [ ] AITuber å¯åŠ¨æ—¶çœ‹åˆ° "âœ… Animation loaded: wave" æ—¥å¿—
- [ ] ä» Cursor å‘é€ `emotion="wave"` èƒ½çœ‹åˆ°æŒ¥æ‰‹åŠ¨ä½œ
- [ ] åŠ¨ç”»æ’­æ”¾æµç•…ï¼Œæ— å¡é¡¿

---

## ğŸ› å¸¸è§é—®é¢˜

### Q1: åŠ¨ç”»æ²¡æœ‰æ’­æ”¾

**æ£€æŸ¥é¡¹**ï¼š
1. æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®ï¼Ÿ
   ```bash
   ls "/Users/user/Documents/ cursorgirl/aituber-kit/public/animations/wave.vrma"
   ```
2. æ§åˆ¶å°æœ‰é”™è¯¯å—ï¼Ÿï¼ˆæ‰“å¼€æµè§ˆå™¨ DevToolsï¼‰
3. é‡å¯ AITuber äº†å—ï¼Ÿ

**è§£å†³æ–¹æ¡ˆ**ï¼š
- ç¡®ä¿æ–‡ä»¶åå®Œå…¨ä¸€è‡´ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
- æ£€æŸ¥ URL è·¯å¾„ï¼š`/animations/wave.vrma`ï¼ˆæ³¨æ„æ–œæ ï¼‰
- æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—ï¼Œç¡®è®¤åŠ¨ç”»åŠ è½½æˆåŠŸ

### Q2: åŠ¨ç”»æ’­æ”¾ä¸è‡ªç„¶

**å¯èƒ½åŸå› **ï¼š
- åŠ¨ç”»ä¸æ¨¡å‹éª¨éª¼ä¸åŒ¹é…
- æ–‡ä»¶è½¬æ¢æœ‰é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å°è¯•ä¸‹è½½ä¸åŒçš„ Mixamo åŠ¨ç”»
- ä½¿ç”¨æ ‡å‡† VRM æ¨¡å‹æµ‹è¯•
- åœ¨ Blender ä¸­æ£€æŸ¥åŠ¨ç”»

### Q3: ä¸‹è½½çš„ VRMA æ–‡ä»¶å¾ˆå¤§

**æ­£å¸¸å¤§å°**ï¼š100KB - 500KB

**å¦‚æœ > 2MB**ï¼š
- å¯èƒ½åŒ…å«äº†ä¸å¿…è¦çš„æ•°æ®
- å°è¯•é‡æ–°è½¬æ¢ï¼Œç¡®ä¿ "Without Skin" é€‰é¡¹

### Q4: 3dRetarget è½¬æ¢å¤±è´¥

**å¤‡ç”¨æ–¹æ¡ˆ**ï¼š
1. ä½¿ç”¨ Blender æ‰‹åŠ¨è½¬æ¢ï¼ˆè§å­¦ä¹ æŒ‡å—ï¼‰
2. å°è¯•ä¸åŒçš„åŠ¨ç”»æ–‡ä»¶
3. æ£€æŸ¥ FBX æ–‡ä»¶æ˜¯å¦å®Œæ•´

---

## ğŸ¯ ä¸‹ä¸€æ­¥

æˆåŠŸæ·»åŠ æŒ¥æ‰‹åŠ¨ç”»åï¼Œç»§ç»­å°è¯•ï¼š

1. **æ·»åŠ æ›´å¤šåŠ¨ä½œ**
   - é èº¬ï¼ˆBowingï¼‰
   - ç‚¹å¤´ï¼ˆYesï¼‰
   - æ€è€ƒï¼ˆThinkingï¼‰
   - åº†ç¥ï¼ˆVictoryï¼‰

2. **ç»„åˆåŠ¨ä½œ**
   - åœ¨ä¸€æ¡æ¶ˆæ¯ä¸­è§¦å‘å¤šä¸ªåŠ¨ä½œ
   - æ ¹æ® AI å›å¤å†…å®¹è‡ªåŠ¨é€‰æ‹©åŠ¨ä½œ

3. **è‡ªå®šä¹‰åŠ¨ç”»**
   - å­¦ä¹  Blender åˆ¶ä½œä¸“å±åŠ¨ç”»
   - å‚è€ƒ `VRM_ANIMATION_LEARNING_PATH.md`

---

## ğŸ“š å‚è€ƒèµ„æº

- **è¯¦ç»†èµ„æºåˆ—è¡¨**ï¼š`docs/VRM_ANIMATION_RESOURCES.md`
- **å®Œæ•´å­¦ä¹ è·¯å¾„**ï¼š`docs/VRM_ANIMATION_LEARNING_PATH.md`
- **åŠ¨ç”»è®¾è®¡æ–¹æ¡ˆ**ï¼š`docs/ANIMATION_ACTION_DESIGN.md`

---

## ğŸ¨ åŠ¨ç”»åˆ›æ„å‚è€ƒ

ä¸ºä¸åŒåœºæ™¯è®¾è®¡åŠ¨ç”»ï¼š

| åœºæ™¯ | æ¨èåŠ¨ç”» | Mixamo å…³é”®è¯ |
|------|----------|---------------|
| Agent å¼€å§‹å·¥ä½œ | ç‚¹å¤´ç¡®è®¤ | Yes, Nod |
| Agent æ€è€ƒä¸­ | æ€è€ƒåŠ¨ä½œ | Thinking, Pondering |
| Agent å®Œæˆä»»åŠ¡ | åº†ç¥ã€é¼“æŒ | Victory, Clapping |
| Agent é‡åˆ°é”™è¯¯ | æŒ å¤´ã€å›°æƒ‘ | Confused, Scratching Head |
| ç”¨æˆ·æé—® | æŒ¥æ‰‹é—®å€™ | Waving, Greeting |
| ç”¨æˆ·æ„Ÿè°¢ | é èº¬ | Bowing, Thank You |
| é•¿æ—¶é—´ç­‰å¾… | é—²ç½®åŠ¨ä½œ | Idle, Looking Around |
| é˜…è¯»ä»£ç  | æŒ‡å‘ã€è®²è§£ | Pointing, Explaining |

---

## ğŸ’¡ é«˜çº§æŠ€å·§

### åŠ¨ä½œé“¾

åœ¨ Python ä¸­ç»„åˆå¤šä¸ªåŠ¨ä½œï¼š

```python
# ç¤ºä¾‹ï¼šAgent å®Œæˆå¤æ‚ä»»åŠ¡çš„åŠ¨ä½œåºåˆ—
actions = [
    ("å¼€å§‹æ€è€ƒäº†...", "think"),
    ("æ‰¾åˆ°è§£å†³æ–¹æ¡ˆï¼", "celebrate"),
    ("å®Œæˆï¼", "bow"),
]

for text, emotion in actions:
    client.send_aituber_text(
        text=text,
        emotion=emotion,
        conversation_id=conv_id
    )
    time.sleep(2)  # ç­‰å¾…åŠ¨ç”»æ’­æ”¾
```

### æ ¹æ®å†…å®¹è‡ªåŠ¨é€‰æ‹©åŠ¨ä½œ

```python
def choose_emotion(text):
    """æ ¹æ®æ–‡æœ¬å†…å®¹é€‰æ‹©åˆé€‚çš„åŠ¨ä½œ"""
    if "å®Œæˆ" in text or "æˆåŠŸ" in text:
        return "celebrate"
    elif "æ€è€ƒ" in text or "è®©æˆ‘æƒ³æƒ³" in text:
        return "think"
    elif "æ”¶åˆ°" in text or "æ˜ç™½" in text:
        return "nod"
    elif "æŠ±æ­‰" in text or "å¯¹ä¸èµ·" in text:
        return "bow"
    else:
        return "neutral"

# ä½¿ç”¨
emotion = choose_emotion("ä»»åŠ¡å®Œæˆäº†ï¼")
client.send_aituber_text(text="ä»»åŠ¡å®Œæˆäº†ï¼", emotion=emotion)
```

---

## ğŸ‰ æ­å–œï¼

ä½ å·²ç»æˆåŠŸæ·»åŠ äº†ç¬¬ä¸€ä¸ª VRM åŠ¨ç”»ï¼

ç°åœ¨ä½ å¯ä»¥ï¼š
- âœ… ä» Mixamo ä¸‹è½½åŠ¨ç”»
- âœ… è½¬æ¢ä¸º VRMA æ ¼å¼
- âœ… é›†æˆåˆ° AITuber é¡¹ç›®
- âœ… ä»ä»£ç ä¸­è§¦å‘åŠ¨ç”»

ç»§ç»­æ¢ç´¢æ›´å¤šå¯èƒ½æ€§å§ï¼ğŸš€

---

**åˆ›å»ºæ—¥æœŸ**ï¼š2025-12-05  
**é€‚ç”¨ç‰ˆæœ¬**ï¼šAITuberKit v2.0+  
**éš¾åº¦ç­‰çº§**ï¼šâ­â­ï¼ˆåˆçº§ï¼‰






















